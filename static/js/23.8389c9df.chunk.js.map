{"version":3,"sources":["hooks/useIsVisible.js","../node_modules/react-use/esm/useUpdateEffect.js","../node_modules/react-use/esm/useFirstMountState.js","components/loaders/Table.js","../node_modules/react-use/esm/useLocalStorage.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","hooks/useStickySWR.js","components/Home.js"],"names":["OPTIONS","root","rootMargin","threshold","useIsVisible","elementRef","useState","isVisible","setIsVisible","useEffect","current","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","unobserve","observe","useUpdateEffect","effect","deps","isFirstMount","isFirst","useRef","useFirstMountState","TableLoader","useMeasure","ref","width","windowWidth","window","innerWidth","className","viewBox","height","speed","animate","Array","keys","map","i","x","y","rx","ry","useLocalStorage","key","initialValue","options","isBrowser","noop","Error","deserializer","raw","value","JSON","parse","initializer","serializer","String","stringify","localStorageValue","localStorage","getItem","setItem","_a","state","setState","useLayoutEffect","set","useCallback","valOrFunc","newState","remove","removeItem","undefined","_objectWithoutProperties","source","excluded","target","sourceKeys","Object","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","useStickySWR","fetcher","swrOptions","setOptions","args","useSWR","data","isValidating","error","rest","produce","draftOptions","initialData","Actions","lazy","retry","Footer","Level","VaccinationHeader","MapExplorer","MapSwitcher","Minigraphs","Search","StateHeader","Table","TimeseriesExplorer","Home","stateCode","districtName","regionHighlighted","setRegionHighlighted","anchor","setAnchor","expandTable","setExpandTable","useSessionStorage","mapStatistic","setMapStatistic","MAP_VIEWS","DISTRICTS","mapView","setMapView","date","setDate","location","useLocation","timeseries","DATA_API_ROOT","revalidateOnMount","refreshInterval","API_REFRESH_INTERVAL","console","log","scatter","json","id","margin","currentdate","lastUpdated","separator","newDate","Date","month","toLocaleString","getDate","getCurrentDate","d3","selectAll","select","append","attr","html","svg","strokeWidth","scale","linear","range","xAxis","axis","ticks","tickFormat","d","prefix","formatPrefix","symbol","orient","yAxis","tooltip","domain","text","enter","Vaccine1","Vaccine2","color","on","style","tipsize","parseInt","event","pageY","pageX","STATE_NAMES","Total","district","details","stateDetails","obj","meta","population","total","vaccinated1","vaccinated2","toFixed","push","districts","homeRightElement","useWindowSize","hideDistrictData","DISTRICT_START_DATE","hideDistrictTestData","formatISO","addDays","parseIndiaDate","DISTRICT_TEST_END_DATE","TESTED_EXPIRING_DAYS","representation","hideVaccinated","getStatistic","lastDataDate","useMemo","updatedDates","tested","vaccinated","filter","max","lastUpdatedDate","datetime","formatDateObjIndia","noDistrictDataStates","reduce","res","stateData","UNKNOWN_DISTRICT_KEY","PRIMARY_STATISTICS","every","statistic","noRegionHighlightedDistrictData","Helmet","name","content","classnames","expanded","fallback","minHeight","dates","position","marginTop","hash","stickied"],"mappings":"4HAEMA,EAAU,CACdC,KAAM,KACNC,WAAY,kBACZC,UAAW,GAuBEC,IApBM,SAACC,GACpB,MAAkCC,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KAgBA,OAdAC,qBAAU,WACJJ,EAAWK,SACI,IAAIC,sBAAqB,SAACC,EAASC,GAClDD,EAAQE,SAAQ,SAACC,GACXA,EAAMC,iBACRR,GAAa,GACbK,EAASI,UAAUZ,EAAWK,eAGjCV,GACMkB,QAAQb,EAAWK,WAE7B,CAACL,IAEGE,I,4CCfMY,IARO,SAAUC,EAAQC,GACpC,IAAIC,ECFD,WACH,IAAIC,EAAUC,kBAAO,GACrB,OAAID,EAAQb,SACRa,EAAQb,SAAU,GACX,GAEJa,EAAQb,QDJIe,GACnBhB,qBAAU,WACN,IAAKa,EACD,OAAOF,MAEZC,K,gFEgCQK,IArCK,WAClB,MAAqBC,cAArB,mBAAKC,EAAL,KAAWC,EAAX,KAAWA,MACLC,EAAcC,OAAOC,WAE3BH,EAAQA,IAAUC,GAAe,IAAM,IAAMA,GACzCA,EAAc,MAChBD,GAAS,IAMX,OACE,qBAAKD,IAAKA,EAAKK,UAAU,cAAzB,SACE,cAAC,IAAD,CACEC,QAAO,cAASL,EAAT,YAAkBM,KACzBA,OAAQA,IACRN,MAAOA,EACPO,MAAO,EACPC,SAAS,EALX,SAOG,YAAIC,MAXE,IAWUC,QAAQC,KAAI,SAACC,GAAD,OAC3B,sBAEEC,EAAE,IACFC,EAhBK,GAgBOF,EACZG,GAAG,IACHC,GAAG,IACHhB,MAAOA,EACPM,OAAQA,IANHM,Y,iCC1BjB,mBA8EeK,IA5EO,SAAUC,EAAKC,EAAcC,GAC/C,IAAKC,IACD,MAAO,CAACF,EAAcG,IAAMA,KAEhC,IAAKJ,EACD,MAAM,IAAIK,MAAM,wCAEpB,IAAIC,EAAeJ,EACbA,EAAQK,IACJ,SAAUC,GAAS,OAAOA,GAC1BN,EAAQI,aACZG,KAAKC,MAEPC,EAAclC,kBAAO,SAAUuB,GAC/B,IACI,IAAIY,EAAaV,EAAWA,EAAQK,IAAMM,OAASX,EAAQU,WAAcH,KAAKK,UAC1EC,EAAoBC,aAAaC,QAAQjB,GAC7C,OAA0B,OAAtBe,EACOT,EAAaS,IAGpBd,GAAgBe,aAAaE,QAAQlB,EAAKY,EAAWX,IAC9CA,GAGf,MAAOkB,GAIH,OAAOlB,MAIXkB,EAAK5D,oBAAS,WAAc,OAAOoD,EAAYhD,QAAQqC,MAAUoB,EAAQD,EAAG,GAAIE,EAAWF,EAAG,GAElGG,2BAAgB,WAAc,OAAOD,EAASV,EAAYhD,QAAQqC,MAAU,CAACA,IAE7E,IAAIuB,EAAMC,uBAAY,SAAUC,GAC5B,IACI,IAAIC,EAAgC,oBAAdD,EAA2BA,EAAUL,GAASK,EACpE,GAAwB,qBAAbC,EACP,OACJ,IAAIlB,OAAQ,EAIAA,EAHRN,EACIA,EAAQK,IACgB,kBAAbmB,EACCA,EAEAjB,KAAKK,UAAUY,GACtBxB,EAAQU,WACLV,EAAQU,WAAWc,GAEnBjB,KAAKK,UAAUY,GAEnBjB,KAAKK,UAAUY,GAC3BV,aAAaE,QAAQlB,EAAKQ,GAC1Ba,EAASf,EAAaE,IAE1B,MAAOW,OAIR,CAACnB,EAAKqB,IAELM,EAASH,uBAAY,WACrB,IACIR,aAAaY,WAAW5B,GACxBqB,OAASQ,GAEb,MAAOV,OAIR,CAACnB,EAAKqB,IACT,MAAO,CAACD,EAAOG,EAAKI,K,uFC3ET,SAASG,EAAyBC,EAAQC,GACvD,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IACI/B,EAAKN,EADLuC,ECHS,SAAuCF,EAAQC,GAC5D,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAEI/B,EAAKN,EAFLuC,EAAS,GACTC,EAAaC,OAAO3C,KAAKuC,GAG7B,IAAKrC,EAAI,EAAGA,EAAIwC,EAAWE,OAAQ1C,IACjCM,EAAMkC,EAAWxC,GACbsC,EAASK,QAAQrC,IAAQ,IAC7BiC,EAAOjC,GAAO+B,EAAO/B,IAGvB,OAAOiC,EDTM,CAA6BF,EAAQC,GAGlD,GAAIG,OAAOG,sBAAuB,CAChC,IAAIC,EAAmBJ,OAAOG,sBAAsBP,GAEpD,IAAKrC,EAAI,EAAGA,EAAI6C,EAAiBH,OAAQ1C,IACvCM,EAAMuC,EAAiB7C,GACnBsC,EAASK,QAAQrC,IAAQ,GACxBmC,OAAOK,UAAUC,qBAAqBC,KAAKX,EAAQ/B,KACxDiC,EAAOjC,GAAO+B,EAAO/B,IAIzB,OAAOiC,E,wEEcMU,MA1BR,SAAsB3C,EAAK4C,EAASC,GAAqB,IAC9D,MAA8BtF,mBAASsF,GAAvC,mBAAO3C,EAAP,KAAgB4C,EAAhB,KAD8D,mBAANC,EAAM,iCAANA,EAAM,kBAG9D,MAA6CC,IAAM,WAAN,GAC3ChD,EACA4C,EACA1C,GAH2C,OAIxC6C,IAJEE,EAAP,EAAOA,KAAMC,EAAb,EAAaA,aAAcC,EAA3B,EAA2BA,MAAUC,EAArC,OAeA,OARAhF,aAAgB,WACd0E,EACEO,YAAQnD,GAAS,SAACoD,GAChBA,EAAaC,YAAcN,QAG9B,CAACA,IAEG,2BACFG,GADL,IAEEF,eACAC,QACAF,U,qGCGEO,EAAUC,gBAAK,kBAAMC,aAAM,kBAAM,kEACjCC,EAASF,gBAAK,kBAAMC,aAAM,kBAAM,oCAChCE,EAAQH,gBAAK,kBAAMC,aAAM,kBAAM,2DAC/BG,EAAoBJ,gBAAK,kBAC7BC,aAAM,kBAAM,2DAERI,EAAcL,gBAAK,kBAAMC,aAAM,kBAAM,iEACrCK,EAAcN,gBAAK,kBAAMC,aAAM,kBAAM,qCACrCM,EAAaP,gBAAK,kBAAMC,aAAM,kBAAM,kEACpCO,EAASR,gBAAK,kBAAMC,aAAM,kBAAM,qCAChCQ,EAAcT,gBAAK,kBAAMC,aAAM,kBAAM,oCACrCS,EAAQV,gBAAK,kBAAMC,aAAM,kBAAM,kEAC/BU,EAAqBX,gBAAK,kBAC9BC,aAAM,kBAAM,2DAwiBCW,UAriBf,WAAiB,IAAD,IAEd,EAAkD9G,mBAAS,CACzD+G,UAAW,KACXC,aAAc,OAFhB,mBAAOC,EAAP,KAA0BC,EAA1B,KAKA,EAA4B1E,YAAgB,SAAU,MAAtD,mBAAO2E,EAAP,KAAeC,EAAf,KACA,EAAsC5E,YAAgB,eAAe,GAArE,mBAAO6E,EAAP,KAAoBC,EAApB,KACA,EAAwCC,YACtC,eACA,UAFF,mBAAOC,EAAP,KAAqBC,EAArB,KAIA,EAA8BjF,YAAgB,UAAWkF,IAAUC,WAAnE,mBAAOC,EAAP,KAAgBC,EAAhB,KAEA,EAAwB7H,mBAAS,IAAjC,mBAAO8H,EAAP,KAAaC,EAAb,KACMC,GAAWC,cAEHC,GAAe9C,EAAa,GAAD,OACpC+C,IADoC,wBAEvC9C,IACA,CACE+C,mBAAmB,EACnBC,gBAAiBC,MALb5C,KASAA,GAASN,EAAa,GAAD,OACxB+C,IADwB,gBACHL,EAAI,WAAOA,GAAS,GADjB,aAE3BzC,IACA,CACE+C,mBAAmB,EACnBC,gBAAiBC,MALb5C,KASR6C,QAAQC,IAAI,QAAS9C,IAGrB,IAAM+C,GAAU,SAACC,EAAMC,GAAQ,IAAD,MAEtBC,EAAgB,GAAhBA,EAA0B,GAA1BA,EAAsC,GAAtCA,EAAiD,GAajDC,EAViB,SAACC,GAAkC,IAArBC,EAAoB,uDAAR,IAEzCC,EAAU,IAAIC,KAAKH,GAEnBI,EAAQF,EAAQG,eAAe,UAAW,CAAED,MAAO,SACnDpB,EAAOkB,EAAQI,UAErB,MAAM,GAAN,OAAUtB,EAAO,GAAP,WAAgBA,GAAhB,UAA4BA,IAAtC,OAA+CiB,GAA/C,OAA2DG,GAGzCG,CAAc,oBAACX,EAAK,UAAN,aAAC,EAASO,YAAV,kBAAkBP,EAAK,UAAvB,aAAkB,EAASO,MAM7DK,GAAGC,UAAUZ,GAAIY,UAAU,OAAOnF,SAClCkF,GAAGC,UAAUZ,GAAIY,UAAU,SAASnF,SACpCkF,GAAGE,OAAOb,GAAIc,OAAO,OAAOC,KAAK,KAAM,QAAQA,KAAK,QAAS,aAAaC,KAA1E,UAAkFd,IAClF,IAAIe,EAAMN,GAAGE,OAAOb,GAAIc,OAAO,OAC5BC,KAAK,UADE,cApBS,IAoBT,YArBU,MA2BdnI,EA1Ba,IA0BQqH,EAAcA,EAAgBiB,EACnDhI,EA5Bc,IA4BS+G,EAAaA,EAEpCvG,EAAIiH,GAAGQ,MAAMC,SAASC,MAAM,CAACnI,EAAQ,IACrCO,EAAIkH,GAAGQ,MAAMC,SAASC,MAAM,CAAC,EAAGzI,IAIhC0I,EAAQX,GAAGM,IAAIM,OAAOJ,MAAM1H,GAAG+H,MAAM,GAAGC,YAAW,SAAUC,GACjE,IAAMC,EAAShB,GAAGiB,aAAaF,GAC/B,OAAOC,EAAOR,MAAMO,GAAKC,EAAOE,UAC/BC,OAAO,UAEJC,EAAQpB,GAAGM,IAAIM,OAAOJ,MAAMzH,GAAGoI,OAAO,SAASN,MAAM,GAAGC,YAAW,SAAUC,GACjF,IAAMC,EAAShB,GAAGiB,aAAaF,GAC/B,OAAOC,EAAOR,MAAMO,GAAKC,EAAOE,UAIlCZ,EAAIH,OAAO,QACRC,KAAK,QAASnI,EAAQqH,EAAcA,GACpCc,KAAK,SAAU7H,EAAS+G,EAAaA,GACrCc,KAAK,IAAK,GACVA,KAAK,IAAK,GACVA,KAAK,OAAQ,WACbA,KAAK,KAAM,GACXA,KAAK,eAAgB,GAExBE,EAAMA,EAAIH,OAAO,KACdC,KAAK,YAAa,aAAed,EAAc,IAAMA,EAAa,KAGrE,IAAM+B,EAAUrB,GAAGE,OAAOb,GAAIc,OAAO,OAClCC,KAAK,QAAS,WA0FjB,IAAMhE,EAAOgD,EACb,IAAKhD,EACH,MAAM,IAAI5C,MAAM,iBAIhBV,EAAEwI,OAAO,CAAC,EAAG,MACbvI,EAAEuI,OAAO,CAAC,EAAG,MAEbhB,EAAIH,OAAO,KACRC,KAAK,QAAS,UACdA,KAAK,YAAa,eAAiB7H,EAAS,KAC5CsD,KAAK8E,GACLR,OAAO,QACPC,KAAK,OAAQ,OACbA,KAAK,YAAa,aAAenI,EAAQ,SACzCmI,KAAK,KAAM,OACXA,KAAK,cAAe,OACpBmB,KAAK,oBAERjB,EAAIH,OAAO,KACRC,KAAK,QAAS,UACdA,KAAK,YAAa,aAAenI,EAAQ,QACzC4D,KAAKuF,GACLjB,OAAO,QACPC,KAAK,YAAa,aAClBA,KAAK,KAAM,UACXA,KAAK,cAAe,OACpBmB,KAAK,oBAUUjB,EAAIL,UAAU,YAC7B7D,KAAKA,GACLoF,QAAQrB,OAAO,KACfC,KAAK,QAAS,WACdA,KAAK,KAAK,SAACW,GAAQ,OAAOjI,EAAEiI,EAAEU,aAC9BrB,KAAK,KAAK,SAACW,GAAQ,OAAOhI,EAAEgI,EAAEW,aAEvBvB,OAAO,UACdC,KAAK,MAAM,SAACW,GAAQ,OAAOjI,EAAEiI,EAAEU,aAC/BrB,KAAK,MAAM,SAACW,GAAQ,OAAOhI,EAAEgI,EAAEW,aAC/BtB,KAAK,IAAK,GACVA,KAAK,QAAS,eACdA,KAAK,QAAQ,SAACW,GACb,IAAMY,EAtIO,CACf,GAAM,eAAgB,GAAM,iBAAkB,GAAM,iBAAkB,GAAM,eAAgB,GAAM,kBAAmB,GAAM,iBAAkB,GAAM,iBAAkB,GAAM,iBAAkB,GAAM,kBAAmB,GAAM,kBAAmB,GAAM,mBAAoB,GAAM,mBAAoB,GAAM,kBAAmB,GAAM,iBAAkB,GAAM,iBAAkB,GAAM,mBAAoB,GAAM,mBAAoB,GAAM,gBAAiB,GAAM,iBAAkB,GAAM,iBAAkB,GAAM,kBAAmB,GAAM,iBAAkB,GAAM,kBAAmB,GAAM,mBAAoB,GAAM,iBAAkB,GAAM,eAAgB,GAAM,kBAAmB,GAAM,iBAAkB,GAAM,kBAAmB,GAAM,oBAAqB,GAAM,kBAAmB,GAAM,iBAAkB,GAAM,kBAAmB,GAAM,mBAAoB,GAAM,mBAAoB,GAAM,mBAAoB,GAAM,oBAqI71BZ,EAAExG,OAE/B,OADAwG,EAAEY,MAAQA,EACHA,KAERC,GAAG,aA/GR,SAAqBb,EAAGlI,GACtBoG,QAAQC,IAAI,UAAW6B,GACvBM,EAAQQ,MAAM,CACZ,QAAW,QACX,aAAc,QACd,MAAS,QACT,QAAW,MACX,QAAW,EACX,mBAAoBd,EAAEY,QAIxB,IAAMG,EACAC,SAASV,EAAQQ,MAAM,UADvBC,EAEAC,SAASV,EAAQQ,MAAM,WAElB,4BAAPxC,EACFgC,EAAQQ,MAAM,CACZ,IAAQ7B,GAAGgC,MAAMC,MAAQH,EAAa,EAAK,KAC3C,KAAS9B,GAAGgC,MAAME,MAAQJ,EAAa,IAAO,OAC7CzB,KACD,mBAAqB8B,IAAYpB,EAAExG,OAAnC,wBACqBwG,EAAEU,SADvB,0BAEqBV,EAAEW,SAFvB,6BAGyBX,EAAEqB,OACb,4BAAP/C,GACTgC,EAAQQ,MAAM,CACZ,IAAQ7B,GAAGgC,MAAMC,MAAQH,EAAa,EAAK,KAC3C,KAAS9B,GAAGgC,MAAME,MAAQJ,EAAa,IAAO,OAC7CzB,KAAK,sBAAwBU,EAAEsB,SAA1B,eACMF,IAAYpB,EAAExG,OADpB,wBAEewG,EAAEU,SAFjB,0BAGeV,EAAEW,SAHjB,6BAImBX,EAAEqB,UA+E5BR,GAAG,YAtER,SAAqBb,EAAGlI,GACtBoG,QAAQC,IAAI,UAAW6B,GACvBM,EAAQQ,MAAM,CACZ,QAAW,aA0EjBhL,qBAAU,WACRoI,QAAQC,IAAI,QAAS9C,IACrB,IAAMkG,EAAU,GACVC,EAAe,GACjBnG,KACFd,OAAO3C,KAAKyD,IAAMlF,SAAQ,SAACqD,GACzB,GAAIA,EAAO,CAAC,IAAD,YAEgG,0BADnGiI,EAAM,GACZ,IAAI,UAAApG,GAAK7B,UAAL,mBAAakI,YAAb,eAAmBC,cAAnB,UAAiCtG,GAAK7B,UAAtC,iBAAiC,EAAaoI,aAA9C,aAAiC,EAAoBC,eAArD,UAAoExG,GAAK7B,UAAzE,iBAAoE,EAAaoI,aAAjF,aAAoE,EAAoBE,aAC1FL,EAAIjI,MAAQA,EACZiI,EAAIH,SAAW,GACfG,EAAIf,WAAa,UAAArF,GAAK7B,UAAL,mBAAaoI,aAAb,eAAoBC,cAApB,UAAkCxG,GAAK7B,UAAvC,aAAkC,EAAakI,KAAKC,YAAc,KAAKI,QAAQ,GAChGN,EAAId,WAAa,UAAAtF,GAAK7B,UAAL,mBAAaoI,aAAb,eAAoBE,cAApB,UAAkCzG,GAAK7B,UAAvC,aAAkC,EAAakI,KAAKC,YAAc,KAAKI,QAAQ,GAChGN,EAAIJ,OAAQ,UAAAhG,GAAK7B,UAAL,mBAAaoI,aAAb,eAAoBC,cAApB,UAAkCxG,GAAK7B,UAAvC,iBAAkC,EAAaoI,aAA/C,aAAkC,EAAoBE,aAClEL,EAAI7C,KAAJ,oBAAWvD,GAAK7B,UAAhB,iBAAW,EAAakI,YAAxB,aAAW,EAAmBjE,YAA9B,QAAsC,GAClCgE,EAAIf,SAAW,MACjBe,EAAIf,SAAW,IACfxC,QAAQC,IAAI,UAAWsD,IAErBA,EAAId,SAAW,MACjBc,EAAId,SAAW,KAEbc,EAAIf,UAAYe,EAAId,UAAYc,EAAIf,UAAY,KAAOe,EAAId,UAAY,KACzEa,EAAaQ,KAAKP,GAIxBlH,OAAO3C,KAAKyD,GAAK7B,GAAOyI,WAAW9L,SAAQ,SAACmL,GAAc,IAAD,sBAEsH,kDADvKG,EAAM,IACR,UAAApG,GAAK7B,UAAL,mBAAayI,iBAAb,mBAAyBX,UAAzB,eAAoCI,KAAKC,cAAzC,UAAuDtG,GAAK7B,UAA5D,iBAAuD,EAAayI,iBAApE,iBAAuD,EAAyBX,UAAhF,iBAAuD,EAAoCM,aAA3F,aAAuD,EAA2CC,eAAlG,UAAiHxG,GAAK7B,UAAtH,iBAAiH,EAAayI,iBAA9H,iBAAiH,EAAyBX,UAA1I,iBAAiH,EAAoCM,aAArJ,aAAiH,EAA2CE,eAC9JL,EAAIjI,MAAQA,EACZiI,EAAIH,SAAWA,EACfG,EAAIf,WAAa,UAAArF,GAAK7B,UAAL,mBAAayI,iBAAb,mBAAyBX,UAAzB,mBAAoCM,aAApC,eAA2CC,cAA3C,UAAyDxG,GAAK7B,UAA9D,iBAAyD,EAAayI,iBAAtE,iBAAyD,EAAyBX,UAAlF,aAAyD,EAAoCI,KAAKC,YAAc,KAAKI,QAAQ,GAC9IN,EAAId,WAAa,UAAAtF,GAAK7B,UAAL,mBAAayI,iBAAb,mBAAyBX,UAAzB,mBAAoCM,aAApC,eAA2CE,cAA3C,UAAyDzG,GAAK7B,UAA9D,iBAAyD,EAAayI,iBAAtE,iBAAyD,EAAyBX,UAAlF,aAAyD,EAAoCI,KAAKC,YAAc,KAAKI,QAAQ,GAC9IN,EAAIJ,OAAQ,UAAAhG,GAAK7B,UAAL,mBAAayI,iBAAb,mBAAyBX,UAAzB,mBAAoCM,aAApC,eAA2CC,cAA3C,UAAyDxG,GAAK7B,UAA9D,iBAAyD,EAAayI,iBAAtE,iBAAyD,EAAyBX,UAAlF,iBAAyD,EAAoCM,aAA7F,aAAyD,EAA2CE,aAChHL,EAAI7C,KAAJ,oBAAWvD,GAAK7B,UAAhB,iBAAW,EAAakI,YAAxB,aAAW,EAAmBjE,YAA9B,QAAsC,GAClCgE,EAAIf,SAAW,MACjBe,EAAIf,SAAW,IACfxC,QAAQC,IAAI,UAAWsD,IAErBA,EAAId,SAAW,MACjBc,EAAId,SAAW,KAEbc,EAAIf,UAAYe,EAAId,UAAYc,EAAIf,UAAY,KAAOe,EAAId,UAAY,KACzEY,EAAQS,KAAKP,UAKrBrD,GAAQoD,EAAc,2BACtBpD,GAAQmD,EAAS,8BAElB,CAAClG,KAEJ,IAAM6G,GAAmBrL,mBACnBjB,GAAYH,YAAayM,IACvBhL,GAAUiL,cAAVjL,MAEFkL,GAA4B,KAAT3E,GAAeA,EAAO4E,IACzCC,GACK,KAAT7E,GACAA,EACA8E,YACEC,YAAQC,YAAeC,KAAyBC,KAChD,CAAEC,eAAgB,SAGhBC,GACkD,IAAtDC,YAAY,OAACzH,SAAD,IAACA,QAAD,EAACA,GAAI,GAAU,QAAS,cAEhC0H,GAAeC,mBAAQ,WAAO,IAAD,gBAC3BC,EAAe,QACnB5H,SADmB,IACnBA,IADmB,UACnBA,GAAI,UADe,iBACnB,EAAcqG,YADK,aACnB,EAAoBjE,KADD,OAEnBpC,SAFmB,IAEnBA,IAFmB,UAEnBA,GAAI,UAFe,iBAEnB,EAAcqG,YAFK,iBAEnB,EAAoBwB,cAFD,aAEnB,EAA4BzF,KAFT,OAGnBpC,SAHmB,IAGnBA,IAHmB,UAGnBA,GAAI,UAHe,iBAGnB,EAAcqG,YAHK,iBAGnB,EAAoByB,kBAHD,aAGnB,EAAgC1F,MAChC2F,QAAO,SAAC3F,GAAD,OAAUA,KACnB,OAAOwF,EAAazI,OAAS,EACzB+H,YAAUc,YAAIJ,EAAapL,KAAI,SAAC4F,GAAD,OAAUgF,YAAehF,OAAS,CACjEmF,eAAgB,SAEhB,OACH,CAACvH,KAEEiI,GAAkBN,mBAAQ,WAC9B,IAAMC,EAAe1I,OAAO3C,KAAKyD,IAAQ,IACtCxD,KAAI,SAAC6E,GAAD,sBAAerB,SAAf,IAAeA,IAAf,UAAeA,GAAOqB,UAAtB,iBAAe,EAAmBgF,YAAlC,aAAe,kBACnB0B,QAAO,SAACG,GAAD,OAAcA,KACxB,OAAON,EAAazI,OAAS,EACzBgJ,YACAH,YAAIJ,EAAapL,KAAI,SAAC0L,GAAD,OAAcd,YAAec,QAElD,OACH,CAAClI,KAEEoI,GAAuBT,mBAC3B,kBAEEzI,OAAOtE,QAAQoF,IAAQ,IAAIqI,QAAO,SAACC,EAAD,GAAkC,IAAD,qBAA1BjH,EAA0B,KAAfkH,EAAe,KAcjE,OAbAD,EAAIjH,OACO,OAATkH,QAAS,IAATA,OAAA,EAAAA,EAAW3B,aAAX,UACA2B,EAAU3B,iBADV,aACA,EAAsB4B,OACtBC,IAAmBC,OACjB,SAACC,GAAD,OACElB,YAAac,EAAW,QAASI,KACjClB,YACEc,EAAU3B,UAAU4B,KACpB,QACAG,OAIDL,IACN,MACL,CAACtI,KAGG4I,IACa,OAAjBrH,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBF,aAAnB,OACAE,QADA,IACAA,OADA,EACAA,EAAmBD,eACnBC,EAAkBD,eAAiBkH,KACnCJ,GAAqB7G,EAAkBF,WAEzC,OACE,qCACE,eAACwH,EAAA,EAAD,WACE,kFACA,sBACEC,KAAK,QACLC,QAAQ,gEAIZ,sBAAK9M,UAAU,OAAf,UACE,sBAAKA,UAAW+M,IAAW,YAAa,CAAEC,SAAUtH,IAApD,UACE,sBAAK1F,UAAU,SAAf,UACE,cAAC,WAAD,CAAUiN,SAAU,wBAApB,SACE,cAAClI,EAAD,OAGAhB,KAASwC,IAAc,qBAAKiD,MAAO,CAAEtJ,OAAQ,WAE/C,sCACIqG,IAAc,qBAAKiD,MAAO,CAAE0D,UAAW,UACxC3G,IACC,cAAC,WAAD,CAAU0G,SAAU,qBAAKzD,MAAO,CAAE0D,UAAW,UAA7C,SACE,cAAC5I,EAAD,CAEI6B,OACAC,UACA+G,MAAOlK,OAAO3C,KAAP,UAAYiG,GAAU,UAAtB,aAAY,EAAkB4G,OACrCnB,6BAQZ,sBAAKxC,MAAO,CAAE4D,SAAU,WAAYC,UAAW,QAA/C,UACGtJ,IACC,eAAC,WAAD,CAAUkJ,SAAU,qBAAKzD,MAAO,CAAEtJ,OAAQ,WAA1C,UACGN,IAAS,MAAQ8F,GAChB,cAACb,EAAD,CAAmBgB,eAAcC,oBAEnC,cAACpB,EAAD,CAAOX,KAAMA,GAAI,QAIrB,sCACIwC,IAAc,qBAAKiD,MAAO,CAAEtJ,OAAQ,WACrCqG,IACC,cAAC,WAAD,CAAU0G,SAAU,qBAAKzD,MAAO,CAAEtJ,OAAQ,WAA1C,SACE,cAAC4E,EAAD,CACEyB,WAAU,UAAEA,GAAU,UAAZ,aAAE,EAAkB4G,MACxBhH,kBAOdoF,IAAkB,cAAC5G,EAAD,CAAmBZ,KAAMA,GAAI,KAEhDA,IACC,cAAC,WAAD,CAAUkJ,SAAU,cAAChI,EAAA,EAAD,IAApB,SACE,cAAC,EAAD,CAEIlB,QACAuB,oBACAC,uBACAG,cACAC,iBACAmF,oBACAE,wBACAO,kBACAE,gBACAU,+BAOV,qBACEnM,UAAW+M,IAAW,aAAc,CAAEC,SAAUtH,IAChD/F,IAAKiL,GACLpB,MAAO,CAAE0D,UAAW,QAHtB,UAKI5O,IAAa+H,GAASiH,OACtB,qCACGvJ,IACC,qBACE/D,UAAW+M,IAAW,gBAAiB,CACrCC,SAAUtH,EACV6H,SACa,gBAAX/H,GAA6BE,GAAe9F,IAAS,MAJ3D,SAOE,eAAC,WAAD,CAAUqN,SAAU,qBAAKzD,MAAO,CAAEtJ,OAAQ,WAA1C,UACE,cAAC8E,EAAD,CAAajB,KAAMA,GAAI,GAAQqB,UAAW,OAC1C,cAACR,EAAD,CAEIQ,UAAW,KACXrB,QACA8B,eACAC,kBACAG,UACAC,aACAZ,oBACAC,uBACAC,SACAC,YACAC,cACA+F,gBACAX,oBACAE,wBACAO,kBACAoB,0CAOTpG,IACC,cAAC,WAAD,CAAU0G,SAAU,qBAAKzD,MAAO,CAAEtJ,OAAQ,WAA1C,SACE,cAACgF,EAAD,CACEE,UAAU,KAERmB,cACAJ,OACAb,oBACAC,uBACAC,SACAC,YACAC,cACA6F,kBACAoB,+CAchB,sBAAK3M,UAAU,iBAAf,UACE,qBAAKA,UAAU,mCAAf,SACE,qBAAKgH,GAAG,yBAAR,SACE,oBAAIhH,UAAU,eAAd,+CAGJ,qBAAKA,UAAU,qCAAf,SACE,qBAAKgH,GAAG,yBAAR,SACE,oBAAIhH,UAAU,eAAd,qDAML1B,IACC,cAAC,WAAD,CAAU2O,SAAU,wBAApB,SACE,cAACxI,EAAD","file":"static/js/23.8389c9df.chunk.js","sourcesContent":["import {useState, useEffect} from 'react';\r\n\r\nconst OPTIONS = {\r\n  root: null,\r\n  rootMargin: '0px 0px 0px 0px',\r\n  threshold: 0,\r\n};\r\n\r\nconst useIsVisible = (elementRef) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (elementRef.current) {\r\n      const observer = new IntersectionObserver((entries, observer) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting) {\r\n            setIsVisible(true);\r\n            observer.unobserve(elementRef.current);\r\n          }\r\n        });\r\n      }, OPTIONS);\r\n      observer.observe(elementRef.current);\r\n    }\r\n  }, [elementRef]);\r\n\r\n  return isVisible;\r\n};\r\n\r\nexport default useIsVisible;\r\n","import { useEffect } from 'react';\nimport { useFirstMountState } from './useFirstMountState';\nvar useUpdateEffect = function (effect, deps) {\n    var isFirstMount = useFirstMountState();\n    useEffect(function () {\n        if (!isFirstMount) {\n            return effect();\n        }\n    }, deps);\n};\nexport default useUpdateEffect;\n","import { useRef } from 'react';\nexport function useFirstMountState() {\n    var isFirst = useRef(true);\n    if (isFirst.current) {\n        isFirst.current = false;\n        return true;\n    }\n    return isFirst.current;\n}\n","import ContentLoader from 'react-content-loader';\r\nimport {useMeasure} from 'react-use';\r\n\r\nconst TableLoader = () => {\r\n  let [ref, {width}] = useMeasure();\r\n  const windowWidth = window.innerWidth;\r\n\r\n  width = width || (windowWidth >= 769 ? 528 : windowWidth);\r\n  if (windowWidth < 769) {\r\n    width -= 30;\r\n  }\r\n\r\n  const height = 45;\r\n  const rows = 20;\r\n\r\n  return (\r\n    <div ref={ref} className=\"TableLoader\">\r\n      <ContentLoader\r\n        viewBox={`0 0 ${width} ${height * rows}`}\r\n        height={height * rows}\r\n        width={width}\r\n        speed={2}\r\n        animate={false}\r\n      >\r\n        {[...Array(rows).keys()].map((i) => (\r\n          <rect\r\n            key={i}\r\n            x=\"0\"\r\n            y={height * i}\r\n            rx=\"3\"\r\n            ry=\"3\"\r\n            width={width}\r\n            height={height - 5}\r\n          />\r\n        ))}\r\n      </ContentLoader>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableLoader;\r\n","import { useCallback, useState, useRef, useLayoutEffect } from 'react';\nimport { isBrowser, noop } from './misc/util';\nvar useLocalStorage = function (key, initialValue, options) {\n    if (!isBrowser) {\n        return [initialValue, noop, noop];\n    }\n    if (!key) {\n        throw new Error('useLocalStorage key may not be falsy');\n    }\n    var deserializer = options\n        ? options.raw\n            ? function (value) { return value; }\n            : options.deserializer\n        : JSON.parse;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var initializer = useRef(function (key) {\n        try {\n            var serializer = options ? (options.raw ? String : options.serializer) : JSON.stringify;\n            var localStorageValue = localStorage.getItem(key);\n            if (localStorageValue !== null) {\n                return deserializer(localStorageValue);\n            }\n            else {\n                initialValue && localStorage.setItem(key, serializer(initialValue));\n                return initialValue;\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. JSON.parse and JSON.stringify\n            // can throw, too.\n            return initialValue;\n        }\n    });\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _a = useState(function () { return initializer.current(key); }), state = _a[0], setState = _a[1];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(function () { return setState(initializer.current(key)); }, [key]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var set = useCallback(function (valOrFunc) {\n        try {\n            var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n            if (typeof newState === 'undefined')\n                return;\n            var value = void 0;\n            if (options)\n                if (options.raw)\n                    if (typeof newState === 'string')\n                        value = newState;\n                    else\n                        value = JSON.stringify(newState);\n                else if (options.serializer)\n                    value = options.serializer(newState);\n                else\n                    value = JSON.stringify(newState);\n            else\n                value = JSON.stringify(newState);\n            localStorage.setItem(key, value);\n            setState(deserializer(value));\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. Also JSON.stringify can throw.\n        }\n    }, [key, setState]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var remove = useCallback(function () {\n        try {\n            localStorage.removeItem(key);\n            setState(undefined);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw.\n        }\n    }, [key, setState]);\n    return [state, set, remove];\n};\nexport default useLocalStorage;\n","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import produce from 'immer';\r\nimport {useState} from 'react';\r\nimport {useUpdateEffect} from 'react-use';\r\nimport useSWR from 'swr';\r\n\r\nexport function useStickySWR(key, fetcher, swrOptions, ...args) {\r\n  const [options, setOptions] = useState(swrOptions);\r\n\r\n  const {data, isValidating, error, ...rest} = useSWR(\r\n    key,\r\n    fetcher,\r\n    options,\r\n    ...args\r\n  );\r\n\r\n  useUpdateEffect(() => {\r\n    setOptions(\r\n      produce(options, (draftOptions) => {\r\n        draftOptions.initialData = data;\r\n      })\r\n    );\r\n  }, [data]);\r\n\r\n  return {\r\n    ...rest,\r\n    isValidating,\r\n    error,\r\n    data,\r\n  };\r\n}\r\n\r\nexport default useStickySWR;\r\n","import TableLoader from './loaders/Table';\r\n\r\nimport {\r\n  API_REFRESH_INTERVAL,\r\n  DATA_API_ROOT,\r\n  DISTRICT_START_DATE,\r\n  DISTRICT_TEST_END_DATE,\r\n  MAP_VIEWS,\r\n  PRIMARY_STATISTICS,\r\n  STATE_NAMES,\r\n  TESTED_EXPIRING_DAYS,\r\n  UNKNOWN_DISTRICT_KEY,\r\n} from '../constants';\r\nimport useIsVisible from '../hooks/useIsVisible';\r\nimport useStickySWR from '../hooks/useStickySWR';\r\nimport {\r\n  fetcher,\r\n  formatDateObjIndia,\r\n  getStatistic,\r\n  parseIndiaDate,\r\n  retry,\r\n} from '../utils/commonFunctions';\r\n\r\nimport classnames from 'classnames';\r\nimport { addDays, formatISO, max } from 'date-fns';\r\nimport { useMemo, useRef, useState, lazy, Suspense, useEffect } from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useLocalStorage, useSessionStorage, useWindowSize } from 'react-use';\r\n\r\nconst Actions = lazy(() => retry(() => import('./Actions')));\r\nconst Footer = lazy(() => retry(() => import('./Footer')));\r\nconst Level = lazy(() => retry(() => import('./Level')));\r\nconst VaccinationHeader = lazy(() =>\r\n  retry(() => import('./VaccinationHeader'))\r\n);\r\nconst MapExplorer = lazy(() => retry(() => import('./MapExplorer')));\r\nconst MapSwitcher = lazy(() => retry(() => import('./MapSwitcher')));\r\nconst Minigraphs = lazy(() => retry(() => import('./Minigraphs')));\r\nconst Search = lazy(() => retry(() => import('./Search')));\r\nconst StateHeader = lazy(() => retry(() => import('./StateHeader')));\r\nconst Table = lazy(() => retry(() => import('./Table')));\r\nconst TimeseriesExplorer = lazy(() =>\r\n  retry(() => import('./TimeseriesExplorer'))\r\n);\r\n\r\nfunction Home() {\r\n\r\n  const [regionHighlighted, setRegionHighlighted] = useState({\r\n    stateCode: 'TT',\r\n    districtName: null,\r\n  });\r\n\r\n  const [anchor, setAnchor] = useLocalStorage('anchor', null);\r\n  const [expandTable, setExpandTable] = useLocalStorage('expandTable', false);\r\n  const [mapStatistic, setMapStatistic] = useSessionStorage(\r\n    'mapStatistic',\r\n    'active'\r\n  );\r\n  const [mapView, setMapView] = useLocalStorage('mapView', MAP_VIEWS.DISTRICTS);\r\n\r\n  const [date, setDate] = useState('');\r\n  const location = useLocation();\r\n\r\n  const { data: timeseries } = useStickySWR(\r\n    `${DATA_API_ROOT}/timeseries.min.json`,\r\n    fetcher,\r\n    {\r\n      revalidateOnMount: true,\r\n      refreshInterval: API_REFRESH_INTERVAL,\r\n    }\r\n  );\r\n\r\n  const { data } = useStickySWR(\r\n    `${DATA_API_ROOT}/data${date ? `-${date}` : ''}.min.json`,\r\n    fetcher,\r\n    {\r\n      revalidateOnMount: true,\r\n      refreshInterval: API_REFRESH_INTERVAL,\r\n    }\r\n  );\r\n\r\n  console.log('inida', data)\r\n\r\n\r\n  const scatter = (json, id) => {\r\n\r\n    const margin = { top: 60, left: 35, bottom: 35, right: 50 }\r\n    const heightValue = 400;\r\n    const widthValue = 800;\r\n    const getCurrentDate = (lastUpdated, separator = ' ') => {\r\n\r\n      const newDate = new Date(lastUpdated)\r\n\r\n      const month = newDate.toLocaleString('default', { month: 'long' });\r\n      const date = newDate.getDate();\r\n\r\n      return `${date < 10 ? `0${date}` : `${date}`}${separator}${month}`\r\n    }\r\n\r\n    const currentdate = getCurrentDate(json[0]?.Date ?? json[1]?.Date)\r\n    /* \r\n    * The next block of code selects the id scatterplot-stats on the web page \r\n    * and appends an svg object to it of the size \r\n    * that we have set up with our width, height and margin’s.\r\n    */\r\n    d3.selectAll(id).selectAll(\"svg\").remove()\r\n    d3.selectAll(id).selectAll(\"#date\").remove()\r\n    d3.select(id).append(\"div\").attr(\"id\", \"date\").attr(\"class\", 'graphtext').html(`${currentdate}`)\r\n    let svg = d3.select(id).append(\"svg\")\r\n      .attr(\"viewBox\", `0 0 ${widthValue} ${heightValue}`)\r\n\r\n\r\n    const strokeWidth = 1.5;\r\n\r\n    const width = widthValue - margin.left - margin.right - (strokeWidth * 2);\r\n    const height = heightValue - margin.top - margin.bottom;\r\n\r\n    const y = d3.scale.linear().range([height, 0]);\r\n    const x = d3.scale.linear().range([0, width]);\r\n\r\n\r\n    // let prefix = d3.formatPrefix(1.21e9);\r\n    const xAxis = d3.svg.axis().scale(x).ticks(6).tickFormat(function (d) {\r\n      const prefix = d3.formatPrefix(d);\r\n      return prefix.scale(d) + prefix.symbol;\r\n    }).orient(\"bottom\")\r\n\r\n    const yAxis = d3.svg.axis().scale(y).orient(\"right\").ticks(6).tickFormat(function (d) {\r\n      const prefix = d3.formatPrefix(d);\r\n      return prefix.scale(d) + prefix.symbol;\r\n    });\r\n\r\n\r\n    svg.append(\"rect\")\r\n      .attr(\"width\", width + margin.left + margin.right)\r\n      .attr(\"height\", height + margin.top + margin.bottom)\r\n      .attr(\"x\", 0)\r\n      .attr(\"y\", 0)\r\n      .attr(\"fill\", \"#E3E2F3\")\r\n      .attr(\"rx\", 4)\r\n      .attr(\"fill-opacity\", 1);\r\n    // It also adds a g element that provides a reference point for adding our axes.  \r\n    svg = svg.append(\"g\")\r\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n\r\n    const tooltip = d3.select(id).append(\"div\")\r\n      .attr(\"class\", \"tooltip\");\r\n\r\n    // function getColor(arg) {\r\n    //   return getRandomColor()\r\n    // }\r\n\r\n    function getRandomColor(str) {\r\n      const colorObj = {\r\n        'AN': 'rgb(128,0,0)', 'AP': 'rgb(165,42,42)', 'AR': 'rgb(220,20,60)', 'AS': 'rgb(255,0,0)', 'BR': 'rgb(134,134,20)', 'CH': 'rgb(255,140,0)', 'CT': 'rgb(255,165,0)', 'DL': 'rgb(255,215,0)', 'DN': 'rgb(184,134,11)', 'GA': 'rgb(218,165,32)', 'GJ': 'rgb(189,183,107)', 'HP': 'rgb(240,230,140)', 'HR': 'rgb(154,205,50)', 'JH': 'rgb(85,107,47)', 'JK': 'rgb(124,252,0)', 'KA': 'rgb(152,251,152)', 'KL': 'rgb(143,188,143)', 'LA': 'rgb(47,79,79)', 'LD': 'rgb(0,139,139)', 'MH': 'rgb(0,255,255)', 'ML': 'rgb(70,130,180)', 'MN': 'rgb(0,191,255)', 'MP': 'rgb(30,144,255)', 'MZ': 'rgb(135,206,250)', 'NL': 'rgb(25,25,112)', 'OR': 'rgb(0,0,205)', 'PB': 'rgb(138,43,226)', 'PY': 'rgb(139,0,139)', 'RJ': 'rgb(186,85,211)', 'SK': 'rgba(238,130,238)', 'TG': 'rgb(199,21,133)', 'TN': 'rgb(139,69,19)', 'TR': 'rgb(210,105,30)', 'TT': 'rgb(255,228,181)', 'UP': 'rgb(218,112,214)', 'UT': 'rgb(128,128,128)', 'WB': 'rgb(255,218,185)'\r\n      }\r\n      // const letters = '0123456789ABCDEF';\r\n      // let color = '#';\r\n      // for (let i = 0; i < 6; i++) {\r\n      //   color += letters[Math.floor(Math.random() * 16)];\r\n      // }\r\n      return colorObj[str];\r\n      // let hash = 0;\r\n      // for (let i = 0; i < str.length; i++) {\r\n      //   hash = str.charCodeAt(i) + ((hash << 5) - hash);\r\n      // }\r\n      // let colour = '#';\r\n      // for (let i = 0; i < 3; i++) {\r\n      //   const value = (hash >> (i * 8)) & 0xFF;\r\n      //   colour += ('00' + value.toString(16)).substr(-2);\r\n      // }\r\n      // return colour;\r\n    }\r\n\r\n\r\n\r\n    /* \r\n    * this function is like mouse over. \r\n    * If we place the mouse over a circle the tooltip is going to show up.\r\n    */\r\n    function showToolTip(d, i) {\r\n      console.log('tooltip', d)\r\n      tooltip.style({\r\n        \"display\": \"block\",\r\n        \"min-height\": \"100px\",\r\n        \"width\": \"200px\",\r\n        \"padding\": \"5px\",\r\n        \"opacity\": 1,\r\n        \"background-color\": d.color\r\n      });\r\n      // const circle = d3.event.target;\r\n      // const tippadding = 5;\r\n      const tipsize = {\r\n        dx: parseInt(tooltip.style(\"width\")),\r\n        dy: parseInt(tooltip.style(\"height\"))\r\n      };\r\n      if (id === \"#scatterplotstate-stats\") {\r\n        tooltip.style({\r\n          \"top\": (d3.event.pageY - tipsize.dy - 5) + \"px\",\r\n          \"left\": (d3.event.pageX - tipsize.dx + 100) + \"px\"\r\n        }).html(\r\n          \"<span><b>State: \" + STATE_NAMES[d.state] + \"<br/>\" +\r\n          \"Vaccine Dose 1: \" + d.Vaccine1 + \"% <br/>\" +\r\n          \"Vaccine Dose 2: \" + d.Vaccine2 + \"%<br/>\" +\r\n          \"Total Vaccinations: \" + d.Total)\r\n      } else if (id === \"#scatterplottotal-stats\") {\r\n        tooltip.style({\r\n          \"top\": (d3.event.pageY - tipsize.dy - 5) + \"px\",\r\n          \"left\": (d3.event.pageX - tipsize.dx + 100) + \"px\"\r\n        }).html(\"<span><b>District: \" + d.district + \"<br/>\" +\r\n          \"State: \" + STATE_NAMES[d.state] + \"<br/>\" +\r\n          \"Vaccine Dose 1: \" + d.Vaccine1 + \"% <br/>\" +\r\n          \"Vaccine Dose 2: \" + d.Vaccine2 + \"%<br/>\" +\r\n          \"Total Vaccinations: \" + d.Total)\r\n      }\r\n\r\n    }\r\n\r\n    /* \r\n    * This function is like mouse out. \r\n    * If we mouse out then the tooltip is hidding\r\n    */\r\n    function hideToolTip(d, i) {\r\n      console.log('tooltip', d)\r\n      tooltip.style({\r\n        \"display\": \"none\"\r\n      });\r\n    }\r\n\r\n\r\n    /* \r\n    * d3.json takes the variable url and two more parameters\r\n    * if error, then throw it\r\n    * else map the time-date in the horizontal axis and the rank-position in the verticall axis\r\n    */\r\n    // d3.json(json, (error, data) => {\r\n    const data = json;\r\n    if (!data) {\r\n      throw new Error(\"d3.json error\");\r\n    }\r\n    else {\r\n\r\n      x.domain([0, 100]);\r\n      y.domain([0, 100]);\r\n\r\n      svg.append(\"g\")\r\n        .attr(\"class\", \"x axis\")\r\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n        .call(xAxis)\r\n        .append(\"text\")\r\n        .attr(\"fill\", \"red\")\r\n        .attr(\"transform\", \"translate(\" + width + \",-30)\")\r\n        .attr(\"dy\", \"4em\")\r\n        .attr(\"text-anchor\", \"end\")\r\n        .text(\"Vaccine Dose 1 %\");\r\n\r\n      svg.append(\"g\")\r\n        .attr(\"class\", \"y axis\")\r\n        .attr(\"transform\", \"translate(\" + width + \", 0)\")\r\n        .call(yAxis)\r\n        .append(\"text\")\r\n        .attr(\"transform\", \"rotate(0)\")\r\n        .attr(\"dy\", \"-0.8em\")\r\n        .attr(\"text-anchor\", \"end\")\r\n        .text(\"Vaccine Dose 2 %\");\r\n\r\n      /* \r\n      * we add the cyclists to our scatterplot\r\n      * This block of code creates the cyclists (selectAll(\".cyclist\")) \r\n      * and associates each of them with a data set (.data(data)).\r\n      * We then append a circle \r\n      * with values for x/y position and height/width as configured in our earlier code.\r\n      * we parse the time and the place\r\n      */\r\n      const districts = svg.selectAll(\".cyclist\")\r\n        .data(data)\r\n        .enter().append(\"g\")\r\n        .attr(\"class\", \"cyclist\")\r\n        .attr(\"x\", (d) => { return x(d.Vaccine1); })\r\n        .attr(\"y\", (d) => { return y(d.Vaccine2); });\r\n\r\n      districts.append(\"circle\")\r\n        .attr(\"cx\", (d) => { return x(d.Vaccine1) })\r\n        .attr(\"cy\", (d) => { return y(d.Vaccine2); })\r\n        .attr(\"r\", 5)\r\n        .attr(\"class\", \"circlegraph\")\r\n        .attr(\"fill\", (d) => {\r\n          const color = getRandomColor(d.state);\r\n          d.color = color;\r\n          return color\r\n        })\r\n        .on(\"mouseover\", showToolTip)\r\n        .on(\"mouseout\", hideToolTip)\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    console.log('india', data)\r\n    const details = [];\r\n    const stateDetails = [];\r\n    if (data) {\r\n      Object.keys(data).forEach((state) => {\r\n        if (state) {\r\n          const obj = {};\r\n          if (data[state]?.meta?.population && data[state]?.total?.vaccinated1 && data[state]?.total?.vaccinated2) {\r\n            obj.state = state;\r\n            obj.district = '';\r\n            obj.Vaccine1 = ((data[state]?.total?.vaccinated1 / data[state]?.meta.population) * 100).toFixed(2)\r\n            obj.Vaccine2 = ((data[state]?.total?.vaccinated2 / data[state]?.meta.population) * 100).toFixed(2)\r\n            obj.Total = data[state]?.total?.vaccinated1 + data[state]?.total?.vaccinated2;\r\n            obj.Date = data[state]?.meta?.date ?? ''\r\n            if (obj.Vaccine1 > 100) {\r\n              obj.Vaccine1 = 100\r\n              console.log('greater', obj)\r\n            }\r\n            if (obj.Vaccine2 > 100) {\r\n              obj.Vaccine2 = 100\r\n            }\r\n            if (obj.Vaccine1 && obj.Vaccine2 && obj.Vaccine1 <= 100 && obj.Vaccine2 <= 100) {\r\n              stateDetails.push(obj)\r\n            }\r\n          }\r\n        }\r\n        Object.keys(data[state].districts).forEach((district) => {\r\n          const obj = {};\r\n          if (data[state]?.districts?.[district]?.meta.population && data[state]?.districts?.[district]?.total?.vaccinated1 && data[state]?.districts?.[district]?.total?.vaccinated2) {\r\n            obj.state = state;\r\n            obj.district = district;\r\n            obj.Vaccine1 = ((data[state]?.districts?.[district]?.total?.vaccinated1 / data[state]?.districts?.[district]?.meta.population) * 100).toFixed(2)\r\n            obj.Vaccine2 = ((data[state]?.districts?.[district]?.total?.vaccinated2 / data[state]?.districts?.[district]?.meta.population) * 100).toFixed(2)\r\n            obj.Total = data[state]?.districts?.[district]?.total?.vaccinated1 + data[state]?.districts?.[district]?.total?.vaccinated2;\r\n            obj.Date = data[state]?.meta?.date ?? ''\r\n            if (obj.Vaccine1 > 100) {\r\n              obj.Vaccine1 = 100\r\n              console.log('greater', obj)\r\n            }\r\n            if (obj.Vaccine2 > 100) {\r\n              obj.Vaccine2 = 100\r\n            }\r\n            if (obj.Vaccine1 && obj.Vaccine2 && obj.Vaccine1 <= 100 && obj.Vaccine2 <= 100) {\r\n              details.push(obj)\r\n            }\r\n          }\r\n        })\r\n      })\r\n      scatter(stateDetails, '#scatterplotstate-stats')\r\n      scatter(details, '#scatterplottotal-stats')\r\n    }\r\n  }, [data]);\r\n\r\n  const homeRightElement = useRef();\r\n  const isVisible = useIsVisible(homeRightElement);\r\n  const { width } = useWindowSize();\r\n\r\n  const hideDistrictData = date !== '' && date < DISTRICT_START_DATE;\r\n  const hideDistrictTestData =\r\n    date === '' ||\r\n    date >\r\n    formatISO(\r\n      addDays(parseIndiaDate(DISTRICT_TEST_END_DATE), TESTED_EXPIRING_DAYS),\r\n      { representation: 'date' }\r\n    );\r\n\r\n  const hideVaccinated =\r\n    getStatistic(data?.['TT'], 'total', 'vaccinated') === 0;\r\n\r\n  const lastDataDate = useMemo(() => {\r\n    const updatedDates = [\r\n      data?.['TT']?.meta?.date,\r\n      data?.['TT']?.meta?.tested?.date,\r\n      data?.['TT']?.meta?.vaccinated?.date,\r\n    ].filter((date) => date);\r\n    return updatedDates.length > 0\r\n      ? formatISO(max(updatedDates.map((date) => parseIndiaDate(date))), {\r\n        representation: 'date',\r\n      })\r\n      : null;\r\n  }, [data]);\r\n\r\n  const lastUpdatedDate = useMemo(() => {\r\n    const updatedDates = Object.keys(data || {})\r\n      .map((stateCode) => data?.[stateCode]?.meta?.['last_updated'])\r\n      .filter((datetime) => datetime);\r\n    return updatedDates.length > 0\r\n      ? formatDateObjIndia(\r\n        max(updatedDates.map((datetime) => parseIndiaDate(datetime)))\r\n      )\r\n      : null;\r\n  }, [data]);\r\n\r\n  const noDistrictDataStates = useMemo(\r\n    () =>\r\n      // Heuristic: All cases are in Unknown\r\n      Object.entries(data || {}).reduce((res, [stateCode, stateData]) => {\r\n        res[stateCode] = !!(\r\n          stateData?.districts &&\r\n          stateData.districts?.[UNKNOWN_DISTRICT_KEY] &&\r\n          PRIMARY_STATISTICS.every(\r\n            (statistic) =>\r\n              getStatistic(stateData, 'total', statistic) ===\r\n              getStatistic(\r\n                stateData.districts[UNKNOWN_DISTRICT_KEY],\r\n                'total',\r\n                statistic\r\n              )\r\n          )\r\n        );\r\n        return res;\r\n      }, {}),\r\n    [data]\r\n  );\r\n\r\n  const noRegionHighlightedDistrictData =\r\n    regionHighlighted?.stateCode &&\r\n    regionHighlighted?.districtName &&\r\n    regionHighlighted.districtName !== UNKNOWN_DISTRICT_KEY &&\r\n    noDistrictDataStates[regionHighlighted.stateCode];\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Coronavirus Outbreak in India - incovid19.org</title>\r\n        <meta\r\n          name=\"title\"\r\n          content=\"Coronavirus Outbreak in India: Latest Map and Case Count\"\r\n        />\r\n      </Helmet>\r\n\r\n      <div className=\"Home\">\r\n        <div className={classnames('home-left', { expanded: expandTable })}>\r\n          <div className=\"header\">\r\n            <Suspense fallback={<div />}>\r\n              <Search />\r\n            </Suspense>\r\n\r\n            {!data && !timeseries && <div style={{ height: '60rem' }} />}\r\n\r\n            <>\r\n              {!timeseries && <div style={{ minHeight: '61px' }} />}\r\n              {timeseries && (\r\n                <Suspense fallback={<div style={{ minHeight: '61px' }} />}>\r\n                  <Actions\r\n                    {...{\r\n                      date,\r\n                      setDate,\r\n                      dates: Object.keys(timeseries['TT']?.dates),\r\n                      lastUpdatedDate,\r\n                    }}\r\n                  />\r\n                </Suspense>\r\n              )}\r\n            </>\r\n          </div>\r\n\r\n          <div style={{ position: 'relative', marginTop: '1rem' }}>\r\n            {data && (\r\n              <Suspense fallback={<div style={{ height: '50rem' }} />}>\r\n                {width >= 769 && !expandTable && (\r\n                  <MapSwitcher {...{ mapStatistic, setMapStatistic }} />\r\n                )}\r\n                <Level data={data['TT']} />\r\n              </Suspense>\r\n            )}\r\n\r\n            <>\r\n              {!timeseries && <div style={{ height: '123px' }} />}\r\n              {timeseries && (\r\n                <Suspense fallback={<div style={{ height: '123px' }} />}>\r\n                  <Minigraphs\r\n                    timeseries={timeseries['TT']?.dates}\r\n                    {...{ date }}\r\n                  />\r\n                </Suspense>\r\n              )}\r\n            </>\r\n          </div>\r\n\r\n          {!hideVaccinated && <VaccinationHeader data={data['TT']} />}\r\n\r\n          {data && (\r\n            <Suspense fallback={<TableLoader />}>\r\n              <Table\r\n                {...{\r\n                  data,\r\n                  regionHighlighted,\r\n                  setRegionHighlighted,\r\n                  expandTable,\r\n                  setExpandTable,\r\n                  hideDistrictData,\r\n                  hideDistrictTestData,\r\n                  hideVaccinated,\r\n                  lastDataDate,\r\n                  noDistrictDataStates,\r\n                }}\r\n              />\r\n            </Suspense>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className={classnames('home-right', { expanded: expandTable })}\r\n          ref={homeRightElement}\r\n          style={{ minHeight: '4rem' }}\r\n        >\r\n          {(isVisible || location.hash) && (\r\n            <>\r\n              {data && (\r\n                <div\r\n                  className={classnames('map-container', {\r\n                    expanded: expandTable,\r\n                    stickied:\r\n                      anchor === 'mapexplorer' || (expandTable && width >= 769),\r\n                  })}\r\n                >\r\n                  <Suspense fallback={<div style={{ height: '50rem' }} />}>\r\n                    <StateHeader data={data['TT']} stateCode={'TT'} />\r\n                    <MapExplorer\r\n                      {...{\r\n                        stateCode: 'TT',\r\n                        data,\r\n                        mapStatistic,\r\n                        setMapStatistic,\r\n                        mapView,\r\n                        setMapView,\r\n                        regionHighlighted,\r\n                        setRegionHighlighted,\r\n                        anchor,\r\n                        setAnchor,\r\n                        expandTable,\r\n                        lastDataDate,\r\n                        hideDistrictData,\r\n                        hideDistrictTestData,\r\n                        hideVaccinated,\r\n                        noRegionHighlightedDistrictData,\r\n                      }}\r\n                    />\r\n                  </Suspense>\r\n                </div>\r\n              )}\r\n\r\n              {timeseries && (\r\n                <Suspense fallback={<div style={{ height: '50rem' }} />}>\r\n                  <TimeseriesExplorer\r\n                    stateCode=\"TT\"\r\n                    {...{\r\n                      timeseries,\r\n                      date,\r\n                      regionHighlighted,\r\n                      setRegionHighlighted,\r\n                      anchor,\r\n                      setAnchor,\r\n                      expandTable,\r\n                      hideVaccinated,\r\n                      noRegionHighlightedDistrictData,\r\n                    }}\r\n                  />\r\n                </Suspense>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {/* <div className=\"text-center\">\r\n        <h1 className='coverage-header'>\r\n          Vaccination Coverage\r\n        </h1>\r\n      </div> */}\r\n      <div className='Home homegraph'>\r\n        <div className=\"home-left home-left--graphmargin\">\r\n          <div id=\"scatterplotstate-stats\">\r\n            <h1 className=\"text-center \">Vaccination Coverage (States)</h1>\r\n          </div>\r\n        </div>\r\n        <div className=\"home-right home-right--graphmargin\">\r\n          <div id=\"scatterplottotal-stats\">\r\n            <h1 className=\"text-center \">Vaccination Coverage (Districts)</h1>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      {isVisible && (\r\n        <Suspense fallback={<div />}>\r\n          <Footer />\r\n        </Suspense>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}