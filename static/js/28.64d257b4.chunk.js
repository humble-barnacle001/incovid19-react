(this.webpackJsonpincovid19=this.webpackJsonpincovid19||[]).push([[28],{112:function(t,e,n){"use strict";var i=n(47),c=n(2),s={root:null,rootMargin:"0px 0px 0px 0px",threshold:0};e.a=function(t){var e=Object(c.useState)(!1),n=Object(i.a)(e,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){t.current&&new IntersectionObserver((function(e,n){e.forEach((function(e){e.isIntersecting&&(a(!0),n.unobserve(t.current))}))}),s).observe(t.current)}),[t]),r}},198:function(t,e,n){"use strict";var i=n(2),c=n(92);e.a=function(t,e,n){if(!c.a)return[e,function(){}];var s=Object(i.useState)((function(){try{var i=sessionStorage.getItem(t);return"string"!==typeof i?(sessionStorage.setItem(t,n?String(e):JSON.stringify(e)),e):n?i:JSON.parse(i||"null")}catch(s){return e}})),r=s[0],a=s[1];return Object(i.useEffect)((function(){try{var e=n?String(r):JSON.stringify(r);sessionStorage.setItem(t,e)}catch(s){}})),[r,a]}},199:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(1),c=n(0);function s(t){var e,n;if(Object(c.a)(1,arguments),t&&"function"===typeof t.forEach)e=t;else{if("object"!==typeof t||null===t)return new Date(NaN);e=Array.prototype.slice.call(t)}return e.forEach((function(t){var e=Object(i.a)(t);(void 0===n||n<e||isNaN(Number(e)))&&(n=e)})),n||new Date(NaN)}},248:function(t,e,n){"use strict";n.r(e);var i=n(98),c=n(47),s=n(10),r=n(112),a=n(24),l=n(95),o=n(93),d=n.n(o),u=n(68),j=n(199),b=n(2),O=n(117),f=n(286),v=n(5),h=n(198),m=n(114),x=n(19),p=Object(b.lazy)((function(){return Object(a.l)((function(){return Promise.all([n.e(1),n.e(19)]).then(n.bind(null,211))}))})),g=Object(b.lazy)((function(){return Object(a.l)((function(){return n.e(7).then(n.bind(null,115))}))})),y=Object(b.lazy)((function(){return Object(a.l)((function(){return n.e(34).then(n.bind(null,159))}))})),N=Object(b.lazy)((function(){return Object(a.l)((function(){return n.e(39).then(n.bind(null,160))}))})),S=Object(b.lazy)((function(){return Object(a.l)((function(){return Promise.all([n.e(2),n.e(8),n.e(6)]).then(n.bind(null,228))}))})),C=Object(b.lazy)((function(){return Object(a.l)((function(){return n.e(35).then(n.bind(null,161))}))})),k=Object(b.lazy)((function(){return Object(a.l)((function(){return Promise.all([n.e(1),n.e(3),n.e(27)]).then(n.bind(null,162))}))})),w=Object(b.lazy)((function(){return Object(a.l)((function(){return n.e(9).then(n.bind(null,230))}))})),M=Object(b.lazy)((function(){return Object(a.l)((function(){return Promise.all([n.e(2),n.e(37)]).then(n.bind(null,229))}))})),D=Object(b.lazy)((function(){return Object(a.l)((function(){return n.e(25).then(n.bind(null,177))}))}));function z(){var t,e,n,o,z,I=Object(f.a)().t,H=Object(v.i)().stateCode.toUpperCase(),R=Object(h.a)("mapStatistic","active"),U=Object(c.a)(R,2),E=U[0],J=U[1],P=Object(b.useState)(!1),F=Object(c.a)(P,2),T=F[0],V=F[1],W=Object(b.useState)({stateCode:H,districtName:null}),A=Object(c.a)(W,2),B=A[0],L=A[1],q=Object(b.useState)(!1),G=Object(c.a)(q,2),K=G[0],Q=G[1];Object(b.useEffect)((function(){B.stateCode!==H&&(L({stateCode:H,districtName:null}),V(!1))}),[B.stateCode,H]);var X=Object(m.a)("".concat(s.e,"/timeseries-").concat(H,".min.json"),a.b,{revalidateOnMount:!0,refreshInterval:1e5}),Y=X.data,Z=X.error,$=Object(m.a)("".concat(s.e,"/data.min.json"),a.b,{revalidateOnMount:!0,refreshInterval:1e5}).data,_=null===$||void 0===$?void 0:$[H],tt=Object(b.useMemo)((function(){if(_){var t=window.innerWidth>=540?3:2,e=(null===_||void 0===_?void 0:_.districts)?Object.keys(_.districts).filter((function(t){return"Unknown"!==t})).length:0;return Math.ceil(e/t)}}),[_]),et=Object(b.useRef)(),nt=Object(r.a)(et),it=Object(b.useMemo)((function(){var t=[];return[0,0,0,0].map((function(e,n){return t.push({animationDelay:"".concat(250*n,"ms")}),null})),t}),[]),ct=T?window.innerWidth>=540?10:8:6,st=Object(b.useMemo)((function(){var t,e,n,i,c,s=[null===_||void 0===_||null===(t=_.meta)||void 0===t?void 0:t.date,null===_||void 0===_||null===(e=_.meta)||void 0===e||null===(n=e.tested)||void 0===n?void 0:n.date,null===_||void 0===_||null===(i=_.meta)||void 0===i||null===(c=i.vaccinated)||void 0===c?void 0:c.date].filter((function(t){return t}));return s.length>0?Object(u.a)(Object(j.a)(s.map((function(t){return Object(a.k)(t)}))),{representation:"date"}):null}),[_]),rt=s.p.includes(E)?E:"confirmed",at=Object(b.useMemo)((function(){var t;return!!((null===_||void 0===_?void 0:_.districts)&&(null===(t=_.districts)||void 0===t?void 0:t[s.H])&&s.u.every((function(t){return Object(a.i)(_,"total",t)===Object(a.i)(_.districts[s.H],"total",t)})))}),[_]),lt=s.z[rt],ot=(null===B||void 0===B?void 0:B.districtName)&&B.districtName!==s.H&&at,dt=Object.keys((!at||!lt.hasPrimary)&&(null===_||void 0===_?void 0:_.districts)||{});return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(O.a,{children:[Object(x.jsxs)("title",{children:["Coronavirus Outbreak in ",s.y[H]," - incovid19.org"]}),Object(x.jsx)("meta",{name:"title",content:"Coronavirus Outbreak in ".concat(s.y[H],": Latest Map and Case Count")})]}),Object(x.jsxs)("div",{className:"State",children:[Object(x.jsxs)("div",{className:"state-left",children:[Object(x.jsx)(w,{data:_,stateCode:H}),Object(x.jsxs)("div",{style:{position:"relative"},children:[Object(x.jsx)(C,{mapStatistic:E,setMapStatistic:J}),Object(x.jsx)(y,{data:_}),Object(x.jsx)(k,{timeseries:null===Y||void 0===Y||null===(t=Y[H])||void 0===t?void 0:t.dates,stateCode:H,forceRender:!!Z})]}),(null===_||void 0===_||null===(e=_.total)||void 0===e?void 0:e.vaccinated1)&&Object(x.jsx)(N,{data:_}),$&&Object(x.jsx)(b.Suspense,{fallback:Object(x.jsx)("div",{style:{minHeight:"50rem"}}),children:Object(x.jsx)(S,{stateCode:H,data:$,regionHighlighted:B,setRegionHighlighted:L,mapStatistic:E,setMapStatistic:J,lastDataDate:st,delta7Mode:K,setDelta7Mode:Q,noRegionHighlightedDistrictData:ot,noDistrictData:at})}),Object(x.jsx)("span",{ref:et}),nt&&$&&Object(x.jsx)(b.Suspense,{fallback:Object(x.jsx)("div",{}),children:Object(x.jsx)(M,{stateCode:H,data:$,timeseries:null===Y||void 0===Y||null===(n=Y[H])||void 0===n?void 0:n.dates})})]}),Object(x.jsx)("div",{className:"state-right",children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"district-bar",children:[Object(x.jsxs)("div",{className:d()("district-bar-top",{expanded:T}),children:[Object(x.jsxs)("div",{className:"district-bar-left",children:[Object(x.jsx)("h2",{className:d()(rt,"fadeInUp"),style:it[0],children:I("Top districts")}),Object(x.jsx)("div",{className:"districts fadeInUp ".concat(T?"is-grid":""),style:T?Object(i.a)({gridTemplateRows:"repeat(".concat(tt,", 2rem)")},it[1]):it[1],children:dt.filter((function(t){return"Unknown"!==t})).sort((function(t,e){return function(t,e){var n=_.districts[t],i=_.districts[e];return Object(a.i)(i,"total",E)-Object(a.i)(n,"total",E)}(t,e)})).slice(0,T?void 0:5).map((function(t){var e=Object(a.i)(_.districts[t],"total",rt),n=Object(a.i)(_.districts[t],"delta",rt);return Object(x.jsxs)("div",{className:"district",children:[Object(x.jsx)("h2",{children:Object(a.f)(e)}),Object(x.jsx)("h5",{children:I(t)}),"active"!==rt&&Object(x.jsx)("div",{className:"delta",children:Object(x.jsx)("h6",{className:rt,children:n>0?"\u2191"+Object(a.f)(n):""})})]},t)}))})]}),Object(x.jsxs)("div",{className:"district-bar-right fadeInUp",style:it[2],children:[Y&&("confirmed"===rt||"deceased"===rt)&&Object(x.jsx)("div",{className:"happy-sign",children:Object.keys((null===(o=Y[H])||void 0===o?void 0:o.dates)||{}).slice(-ct).every((function(t){return 0===Object(a.i)(Y[H].dates[t],"delta",rt)}))&&Object(x.jsxs)("div",{className:"alert ".concat("confirmed"===rt?"is-green":""),children:[Object(x.jsx)(l.w,{}),Object(x.jsxs)("div",{className:"alert-right",children:["No new ",rt," cases in the past five days"]})]})}),Object(x.jsx)(p,{timeseries:null===Y||void 0===Y||null===(z=Y[H])||void 0===z?void 0:z.dates,statistic:rt,stateCode:H,lookback:ct,forceRender:!!Z})]})]}),Object(x.jsx)("div",{className:"district-bar-bottom",children:dt.length>5?Object(x.jsx)("button",{className:"button fadeInUp",onClick:function(){V(!T)},style:it[3],children:Object(x.jsx)("span",{children:I(T?"View less":"View all")})}):Object(x.jsx)("div",{style:{height:"3.75rem",flexBasis:"15%"}})})]}),Object(x.jsx)(b.Suspense,{fallback:Object(x.jsx)("div",{}),children:Object(x.jsx)(D,{stateCode:H,timeseries:Y,regionHighlighted:B,setRegionHighlighted:L,noRegionHighlightedDistrictData:ot,forceRender:!!Z})})]})})]}),Object(x.jsx)(g,{})]})}e.default=Object(b.memo)(z)}}]);
//# sourceMappingURL=28.64d257b4.chunk.js.map